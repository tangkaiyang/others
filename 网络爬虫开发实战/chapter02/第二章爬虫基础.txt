第二章 爬虫基础
2.1 HTTP基本原理
URI: Uniform Resource Identifier,统一资源标志符
URL: Universal Resource Locator,统一资源定位符
URL是URI的子集,URI还包括一个子类叫做URN,Universal Resource Name,统一资源名称.
URN只命名资源而不指定如何定位资源
请求头中
Content-Type:text/html代表HTML格式,image/gif代表GIF图片,application/json代表JSON类型
请求体中:Content-Type设置为application/x-www-form-urlencoded,才会以表单数据的形式提交
application/json来提交JSON数据,multipart/form-data来上传文件,text/xml,提交XML数据
在爬虫中,如果要构造POST请求,需要使用正确的Content-Type,并了解各种请求库的各个参数设置时使用的是哪种
Content-Type,不然可能导致POST提交后无法正常响应
响应头中Content-Type:text/html为返回HTML文档,application/x-javascript则代表返回JavaScript文件,
image/jpeg代表返回图片
响应体:
响应的正文数据都在响应体中,比如请求网页时,它的响应体就是网页的HTML代码;
请求一张图片时,它的响应体就是图片的二进制数据
做爬虫请求网页后,要解析的内容就是响应体.
在做爬虫时,我们主要通过响应体得到网页的源代码,JSON数据等,然后从中做相应内容的提取
2.2网页基础
网页可以分为三大部分--HTML,CSS和JavaScript
HTML中,不同类型的文字通过不同类型的标签来表示,如图片用img标签表示,视频用video标签表示,段落用p标签表示,
他们之间的布局又常通过布局标签div嵌套组合而成
CSS,层叠样式表."层叠"指当HTML中引用了数个样式文件,并且样式发生冲突时,浏览器能依据层叠顺序处理.
"样式"指网页中文字大小,颜色,元素间距,排列等样式,CSS是目前唯一的网页页面排版样式标准.
格式:
#id.class.class{
    position:元素的布局方式;
    bottom:下边距;
    width:宽度;
    height:高度;
}
在网页中,一般会统一定义整个网页的样式规则,并写入CSS文件中(其后缀为css).
在HTML中,只需要用link标签即可引入写好的CSS文件.
JavaScript,JS,一种脚本语言.HTML和CSS配合使用,提供个用户的只是一种静态信息,缺乏交互性.
我们在网页里可能看到一些交互和动画效果,如下载进度条,提示框,轮播图等,都是JavaScript的功劳
它的出现使得用户与信息之间不只是一种浏览和显示的关系,而是实现了一种实时,动态,交互的页面功能
JavaScript通常也是以单独的文件形式加载的,后缀为js,
在HTML中通过script标签即可引入,<script src=".....js"></script>
综上,HTML定义了网页的内容和结构,CSS描述了网页的布局,JavaScript定义了网页的行为
DOCTYPE定义了文档类型,其次最外层是html标签,最后还有对应的结束标签表示闭合,内部是head标签和body标签,分别代表网页头和网页体.
他们也需要结束标签.head标签内定义了一些页面的配置和引用.如:
    <meta charset="UTF-8">
它制定了网页的编码为UTF-8
title标签定义了网页的标题,会显示在网页的选项卡中,不会显示在正文中.
body标签内侧是网页正文中显示的内容.div标签定义了网页中的区块,它的id是container,这是一个非常非常有用的属性,
且id的内容在网页中是唯一的,我们可以通过它来获取这个区块.然后在此区块内又有一个div标签,它的class为wrapper,这也是一个非常
非常有用的属性,经常与CSS配合使用来设定样式.然后此区块内部又有一个h2标签,这代表一个二级标题.另外,还有一个p标签,
这代表一个段落.在这两者中直接写入相应的内容即可在网页中呈现出来,他们也有各自的class属性
一个网页的标准形式是html标签内嵌套head和body标签,head内定义网页的配置和引用,body内定义网页的正文
2.2.3 节点树及节点间的关系
在HTML中,所有标签定义的内容都是节点,构成了HTML DOM树
DOM是W3C的标准,Document Object Model,即文档对象模型.定义了访问HTML和XML文档的标准
DOM中立与平台和语言的接口,允许程序和脚本动态地访问和更新文档地内容,结构和样式
W3C DOM标准被分为3个不同地不分:
# 核心DOM:针对任何结构化文档地标准模型
# XML DOM:针对XML文档地标准模型
# HTML DOM:针对HTML文档地标准模型
根据HTML DOM标准,HTML文档中地所有内容都是节点.
# 整个文档是一个文档节点
# 每个HTML元素是元素节点
# HTML元素内的文本是文本节点
# 每个HTML属性是属性节点
# 注释是注释节点
HTML文档被视作树结构,称为节点树
通过HTML DOM,树中的所有节点均可通过JavaScript访问,所有HTML节点元素均可被修改，也可以被创建或删除
节点树中的节点彼此拥有层级关系．我们常用父(parent),子(child)和兄弟(sibling)等术语描述这些关系.父节点拥有子节点,同级的子节点被称为兄弟节点
在节点树中,顶端节点称为根(root).除了根节点之外,每个节点都有父节点,同时可拥有任意数量的子节点或兄弟节点.
2.2.4 选择器
CSS选择器会根据不同的节点设置不同的样式规则,
如何定位节点?